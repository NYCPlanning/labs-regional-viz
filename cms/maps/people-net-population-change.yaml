# People
# ----------
slug: net-population-change
category: People
categorySlug: people
title: "Most noticeable gains outside of NYC are in select municipalities along regional rail corridors and in North NJ"
menuTitle: "Net Population Change, 2010 - 2016"
content: |
  Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
source: This maps show data from some source.

map:
  toggles:
  - layerId: net-population-change-subregion
    type: subregion
  - layerId: net-population-change-county
    type: county
  - layerId: net-population-change-municipality
    type: municipality

  defaultGeographyLevel: county
  # TODO: change defaultGeographyLevel to municipality once dot density is in

  sources:
  - id: net-population-change
    type: cartovector
    source-layers:
    - id: net-population-change-subregion
      sql: SELECT the_geom_webmercator, geoid, pop1016 as value FROM region_subregion_v0
    - id: net-population-change-county
      sql: SELECT the_geom_webmercator, geoid, pop1016 as value FROM region_county_v0
    - id: net-population-change-municipality
      sql: SELECT the_geom_webmercator, popa1016, popa1016si as value FROM region_popa1016_dotdensity_v0

  popupValues:
  - id: subregion
    value: pop1016
  - id: county
    value: pop1016
  - id: municipality
    value: popa1016

  isPercent: false
  isChangeMeasurement: true

  layers:
  - id: net-population-change-subregion
    title: "Net Population Change, 2010 - 2016"
    type: choropleth
    source: net-population-change
    source-layer: net-population-change-subregion
    paintConfig:
      opacity: 0.6
      colors:
      - "#ffa555"
      - "#ffffe0"
      - "#b3e4ff"
      - "#5ab4ff"
      - "#002673"
      breaks:
      - -1500
      - 5000
      - 25000
      - 100000
  - id: net-population-change-county
    title: "Net Population Change, 2010 - 2016"
    type: choropleth
    source: net-population-change
    source-layer: net-population-change-county
    paintConfig:
      opacity: 0.6
      colors:
      - "#d76423"
      - "#ffa555"
      - "#ffffe0"
      - "#b3e4ff"
      - "#5ab4ff"
      - "#002673"
      breaks:
      - -5000
      - 1500
      - 15000
      - 50000
  # TODO: add dot density layer config
  - id: net-population-change-municipality
    title: "Net Population Change, 2010 - 2016"
    type: circle
    legend:
    - color: "#ff7900"
      label: "Loss of 50 people"
    - color: "#00aacc"
      label: "Gain of 50 people"
    source: net-population-change
    source-layer: net-population-change-municipality
    paint:
      circle-color:
      - step
      - - get
        - popa1016
      - "#ff7900"
      - 0
      - "#00aacc"
      circle-radius:
        stops:
        - - 7
          - 1.5
        - - 11
          - 2
      circle-opacity: 0.6
